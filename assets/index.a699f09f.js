import{ai as w,o as r,_ as m,bf as P,bg as K,Q as D,z as J,bh as X,ad as Y,h as v,j as p,v as E,$ as a,a5 as l,G as Z,F as k,an as C,a7 as L,a4 as x,bi as ee,bj as te,bk as se,q as oe,aK as ne,a0 as S,a2 as I,a6 as re,bl as ae,W as ie,bm as le,bn as ce,bb as ue,bo as pe}from"./wq.a80e3404.js";import{E as N,a as me,b as de,c as _e,d as he,e as fe,f as ve,g as ge,h as Ee,i as q,z,j as be}from"./element-plus.60dc2cbb.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const R=(e,s)=>{const o=e.__vccOpts||e;for(const[c,t]of s)o[c]=t;return o},ye={};function we(e,s){const o=w("router-view");return r(),m(o)}const ke=R(ye,[["render",we]]),xe="modulepreload",Le=function(e,s){return new URL(e,s).href},$={},f=function(s,o,c){return!o||o.length===0?s():Promise.all(o.map(t=>{if(t=Le(t,c),t in $)return;$[t]=!0;const n=t.endsWith(".css"),d=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${d}`))return;const i=document.createElement("link");if(i.rel=n?"stylesheet":xe,n||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),n)return new Promise((_,h)=>{i.addEventListener("load",_),i.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>s())},U=P("permiss",{state:()=>{const e=localStorage.getItem("ms_keys");return{key:e?JSON.parse(e):[],defaultList:{admin:["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16"],user:["1","2","3","4","5","6","7"]}}},actions:{handleSet(e){this.key=e}}}),j=P("sidebar",{state:()=>({collapse:!1}),getters:{},actions:{handleCollapse(){this.collapse=!this.collapse}}}),Ae=P("tags",{state:()=>({list:[]}),getters:{show:e=>e.list.length>0,nameList:e=>e.list.map(s=>s.name)},actions:{delTagsItem(e){this.list.splice(e,1)},setTagsItem(e){this.list.push(e)},clearTags(){this.list=[]},closeTagsOther(e){this.list=e},closeCurrentTag(e){for(let s=0,o=this.list.length;s<o;s++)if(this.list[s].path===e.$route.fullPath){s<o-1?e.$router.push(this.list[s+1].path):s>0?e.$router.push(this.list[s-1].path):e.$router.push("/"),this.list.splice(s,1);break}}}}),Fe=""+new URL("logo.6c00530f.png",import.meta.url).href,Be=""+new URL("img.cf1cb86c.jpg",import.meta.url).href,y=K.create({baseURL:"https://www.gilianda.com",timeout:1e4});y.interceptors.request.use(e=>e,e=>(console.log(e),Promise.reject()));y.interceptors.response.use(e=>{if(e.status===200)return e;Promise.reject()},e=>(console.log(e),Promise.reject()));function Xe(e){return y({url:"/api/user",method:"post",data:e})}function Oe(){return y({url:"/api/queryProject",method:"post"})}function Ye(){return y({url:"/api/queryGas",method:"post"})}function Ze(){return y({url:"/api/queryChartData",method:"post"})}const T=e=>(ee("data-v-935bef82"),e=e(),te(),e),Se={class:"header"},Ce=T(()=>p("div",{class:"logo"},[p("img",{src:Fe,alt:""})],-1)),Ie={class:"header-right"},Pe={class:"header-user-con"},De=T(()=>p("div",{class:"btn-bell"},[p("svg",{t:"1668872002688",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"956",width:"24",height:"24"},[p("path",{d:"M264.090273 111.378908h146.607307c18.711012 0 34.14437 13.959435 37.6713 32.525996 4.352736 13.905745 12.482957 26.391258 23.038182 34.830836a62.572018 62.572018 0 0 0 40.372425 14.521903 63.719964 63.719964 0 0 0 40.651103-14.521903 69.494211 69.494211 0 0 0 23.885718-37.745444c4.602012-17.978525 20.036647-29.606275 36.570653-29.606274h146.603472c11.931993 0 21.961822 4.635248 28.991395 13.959435l208.417437 222.941897a42.288652 42.288652 0 0 1 0 57.738627L853.822723 559.302927a36.064431 36.064431 0 0 1-53.681187 0l-0.525397-0.884609-1.624765-1.150503v314.419662c0 22.666186-16.784559 40.938728-38.497106 40.938728H264.090273c-21.136017 0-37.920576-18.272543-37.920576-40.938728V557.266537l-2.45185 2.03639a36.371232 36.371232 0 0 1-53.954751 0L26.682719 406.020146c-14.633119-15.940857-14.633119-41.801606 0-57.738627l1.876598-1.76794L236.975476 123.006658a37.470601 37.470601 0 0 1 27.114797-11.632863z m120.868 81.289422h-105.158522L107.42757 377.29848l89.17548 95.195168 40.372426-43.238456a37.786351 37.786351 0 0 1 27.114797-11.8962c21.111728 0 37.946143 18.272543 37.946142 40.644711v372.443358h419.511711V457.998589a41.312003 41.312003 0 0 1 11.377195-28.748511c14.658685-15.96898 39.022502-15.96898 54.20147 0l39.859813 43.24357 89.699598-95.195168-172.625291-184.63015h-105.434643a144.386837 144.386837 0 0 1-40.12315 51.100226c-24.113263 19.746465-54.20147 31.642665-86.723631 31.642665-32.492759 0-62.334248-11.8962-86.448789-31.642665a148.496689 148.496689 0 0 1-40.372425-51.093834z","p-id":"957",fill:"#ffffff"})])],-1)),Re={class:"btn-bell"},je=T(()=>p("i",{class:"el-icon-lx-notice"},null,-1)),Te={key:0,class:"btn-bell-badge"},Ve={class:"el-dropdown-link"},$e=L("\u9000\u51FA\u767B\u5F55"),Ne=D({__name:"header",setup(e){const s=localStorage.getItem("ms_username"),o=2,c=j(),t=()=>{c.handleCollapse()};J(()=>{document.body.clientWidth<1500&&t()});const n=X(),d=_=>{_=="loginout"&&(localStorage.removeItem("ms_username"),n.push("/login"))},i=Y([]);return Oe().then(_=>{localStorage.setItem("projectList",JSON.stringify(_.data)),_.data.forEach(h=>{i.push(h)})}),(_,h)=>{const F=w("Expand"),g=N,u=w("Fold"),A=me,B=de,H=w("arrow-down"),V=_e,Q=he,W=fe;return r(),v("div",Se,[Ce,p("div",{class:"collapse-btn",onClick:t},[E(c).collapse?(r(),m(g,{key:0},{default:a(()=>[l(F)]),_:1})):(r(),m(g,{key:1},{default:a(()=>[l(u)]),_:1}))]),p("div",Ie,[p("div",Pe,[De,p("div",Re,[l(A,{effect:"dark",content:`\u6709${o}\u6761\u672A\u8BFB\u6D88\u606F`,placement:"bottom"},{default:a(()=>[je]),_:1},8,["content"]),(r(),v("span",Te))]),l(B,{class:"user-avator",size:30,src:E(Be)},null,8,["src"]),l(W,{class:"user-name",trigger:"click",onCommand:d},{dropdown:a(()=>[l(Q,{modelValue:i,"onUpdate:modelValue":h[0]||(h[0]=O=>Z(i)?i.value=O:null)},{default:a(()=>[(r(!0),v(k,null,C(i,(O,G)=>(r(),m(V,{key:G},{default:a(()=>[L(x(O.projectName),1)]),_:2},1024))),128)),l(V,{divided:"",command:"loginout"},{default:a(()=>[$e]),_:1})]),_:1},8,["modelValue"])]),default:a(()=>[p("span",Ve,[L(x(E(s))+" ",1),l(g,{class:"el-icon--right"},{default:a(()=>[l(H)]),_:1})])]),_:1})])])])}}});const qe=R(Ne,[["__scopeId","data-v-935bef82"]]),ze={class:"sidebar"},Ue=D({__name:"sidebar",setup(e){const s=[{icon:"Odometer",index:"/projectOverview",title:"\u9879\u76EE\u6982\u51B5",permiss:"1",subs:[{index:"/projectOverview",title:"\u9879\u76EE\u6982\u51B5",permiss:"1"}]},{icon:"DocumentCopy",index:"/map",title:"\u4EBA\u5458\u5B9A\u4F4D",permiss:"2",subs:[{index:"/map",title:"\u5B9E\u65F6\u5730\u56FE",permiss:"2"},{index:"/track",title:"\u4EBA\u5458\u8F68\u8FF9",permiss:"3"},{index:"/electricityOverview",title:"\u7535\u91CF\u7EDF\u8BA1",permiss:"4"}]},{icon:"PieChart",index:"/charts",title:"\u6C14\u4F53\u6570\u636E",permiss:"5",subs:[{index:"/charts",title:"\u5B9E\u65F6\u6570\u636E",permiss:"5"},{index:"/alarmRecord",title:"\u62A5\u8B66\u8BB0\u5F55",permiss:"6"}]}],o=se(),c=oe(()=>o.path),t=j();return(n,d)=>{const i=N,_=ve,h=ge,F=Ee,g=ne("permiss");return r(),v("div",ze,[l(F,{class:"sidebar-el-menu","default-active":E(c),collapse:E(t).collapse,"unique-opened":"",router:""},{default:a(()=>[(r(),v(k,null,C(s,u=>(r(),v(k,null,[u.subs?S((r(),m(h,{index:u.index,key:u.index},{title:a(()=>[l(i,null,{default:a(()=>[(r(),m(I(u.icon)))]),_:2},1024),p("span",null,x(u.title),1)]),default:a(()=>[(r(!0),v(k,null,C(u.subs,(A,B)=>S((r(),m(_,{key:B,index:A.index},{default:a(()=>[L(x(A.title),1)]),_:2},1032,["index"])),[[g,u.permiss]])),128))]),_:2},1032,["index"])),[[g,u.permiss]]):S((r(),m(_,{index:u.index,key:u.index},{title:a(()=>[L(x(u.title),1)]),default:a(()=>[l(i,null,{default:a(()=>[(r(),m(I(u.icon)))]),_:2},1024)]),_:2},1032,["index"])),[[g,u.permiss]])],64))),64))]),_:1},8,["default-active","collapse"])])}}});const Me=R(Ue,[["__scopeId","data-v-d9c9f548"]]),He={class:"content"},Qe=D({__name:"home",setup(e){const s=j(),o=Ae();return(c,t)=>{const n=w("router-view");return r(),v(k,null,[l(qe),l(Me),p("div",{class:ie(["content-box",{"content-collapse":E(s).collapse}])},[p("div",He,[l(n,null,{default:a(({Component:d})=>[l(re,{name:"move",mode:"out-in"},{default:a(()=>[(r(),m(ae,{include:E(o).nameList},[(r(),m(I(d)))],1032,["include"]))]),_:2},1024)]),_:1})])],2)],64)}}}),We=[{path:"/",redirect:"/login"},{path:"/",name:"Home",component:Qe,children:[{path:"/projectOverview",name:"projectOverview",meta:{title:"\u9879\u76EE\u6982\u51B5",permiss:"1",keepAlive:!0},component:()=>f(()=>import("./projectOverview.cfe561df.js"),["projectOverview.cfe561df.js","wq.a80e3404.js","element-plus.60dc2cbb.js","element-plus.62faa577.css"],import.meta.url)},{path:"/map",name:"map",meta:{title:"\u5B9E\u65F6\u5730\u56FE",permiss:"2",keepAlive:!0},component:()=>f(()=>import("./map.9785df17.js"),["map.9785df17.js","wq.a80e3404.js","element-plus.60dc2cbb.js","element-plus.62faa577.css"],import.meta.url)},{path:"/track",name:"track",meta:{title:"\u4EBA\u5458\u8F68\u8FF9",permiss:"3",keepAlive:!0},component:()=>f(()=>import("./track.704b95fd.js"),["track.704b95fd.js","wq.a80e3404.js","element-plus.60dc2cbb.js","element-plus.62faa577.css"],import.meta.url)},{path:"/electricityOverview",name:"electricityOverview",meta:{title:"\u7535\u91CF\u7EDF\u8BA1",permiss:"4",keepAlive:!0},component:()=>f(()=>import("./electricityOverview.4cfafbf5.js"),["electricityOverview.4cfafbf5.js","wq.a80e3404.js","element-plus.60dc2cbb.js","element-plus.62faa577.css"],import.meta.url)},{path:"/charts",name:"charts",meta:{title:"\u5B9E\u65F6\u6570\u636E",permiss:"5",keepAlive:!0},component:()=>f(()=>import("./charts.59fb6b43.js"),["charts.59fb6b43.js","charts.ad84d44f.css","element-plus.60dc2cbb.js","element-plus.62faa577.css","wq.a80e3404.js"],import.meta.url)},{path:"/alarmRecord",name:"alarmRecord",meta:{title:"\u62A5\u8B66\u8BB0\u5F55",permiss:"6",keepAlive:!0},component:()=>f(()=>import("./alarmRecord.bf6d3e8d.js"),["alarmRecord.bf6d3e8d.js","alarmRecord.b2df92bc.css","element-plus.60dc2cbb.js","element-plus.62faa577.css","wq.a80e3404.js"],import.meta.url)}]},{path:"/login",name:"Login",meta:{title:"\u767B\u5F55"},component:()=>f(()=>import("./login.2d46a5ae.js"),["login.2d46a5ae.js","login.110ccd88.css","element-plus.60dc2cbb.js","element-plus.62faa577.css","wq.a80e3404.js"],import.meta.url)},{path:"/403",name:"403",meta:{title:"\u6CA1\u6709\u6743\u9650"},component:()=>f(()=>import("./403.affc7d1b.js"),["403.affc7d1b.js","403.f437f9e4.css","element-plus.60dc2cbb.js","element-plus.62faa577.css","wq.a80e3404.js"],import.meta.url)}],M=le({history:ce(),routes:We});M.beforeEach((e,s,o)=>{document.title=`${e.meta.title} | vue-manage-system`;const c=localStorage.getItem("ms_username"),t=U();!c&&e.path!=="/login"?o("/login"):e.meta.permiss&&!t.key.includes(e.meta.permiss)?o("/403"):o()});const b=ue(ke);b.use(q,{locale:z});b.use(pe());b.use(M);b.use(q,{locale:z});for(const[e,s]of Object.entries(be))b.component(e,s);const Ge=U();b.directive("permiss",{mounted(e,s){Ge.key.includes(String(s.value))||(e.hidden=!0)}});b.mount("#app");export{Xe as L,Ye as Q,R as _,Ze as a,Ae as b,Fe as c,U as u};
